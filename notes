from PIL import Image, ExifTags

img = Image.open("not_verified.jpg")

# Auto-orient based on EXIF
for orientation in ExifTags.TAGS.keys():
    if ExifTags.TAGS[orientation] == 'Orientation':
        break

exif = img._getexif()
if exif and orientation in exif:
    if exif[orientation] == 3:
        img = img.rotate(180, expand=True)
    elif exif[orientation] == 6:
        img = img.rotate(270, expand=True)
    elif exif[orientation] == 8:
        img = img.rotate(90, expand=True)

img.save("oriented.jpg", dpi=(300, 300))



from PIL import Image

# Load the image
input_path = "IMG_037EF375-02C2-4DD2-BC48-18F8EC5257B6.jpeg"
output_path = "IMG_fixed_dpi_300.jpeg"

# Open image
img = Image.open(input_path)

# Optionally resize (simulate better resolution)
width, height = img.size
scale_factor = 300 / 123  # From 123 to 300 DPI
new_size = (int(width * scale_factor), int(height * scale_factor))
img_resized = img.resize(new_size, Image.LANCZOS)

# Save with updated DPI
img_resized.save(output_path, dpi=(300, 300))

print(f"Image saved at {output_path} with simulated 300 DPI.")




from pymongo import MongoClient
from urllib.parse import quote_plus

# Raw credentials
username = "your_username"
password = "your_password_with_special@characters"

# Encode the username and password safely
escaped_username = quote_plus(username)
escaped_password = quote_plus(password)

# MongoDB connection parts
host = "host"
port = "port"
database_name = "your_database_name"

# Final MongoDB URL
mongo_url = f"mongodb://{escaped_username}:{escaped_password}@{host}:{port}/{database_name}"

try:
    client = MongoClient(mongo_url)
    print("Connected to MongoDB")
    print("Databases available:", client.list_database_names())

except Exception as e:
    print(f"Error while connecting to MongoDB: {e}")

finally:
    if 'client' in locals():
        client.close()
        print("MongoDB connection closed.")
